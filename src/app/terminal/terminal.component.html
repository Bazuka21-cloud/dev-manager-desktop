<div class="w-100 h-100 d-flex flex-column">
  <ul ngbNav #nav="ngbNav" class="nav-tabs flex-shrink-0 mt-2 px-2" [animation]="false" [(activeId)]="currentShell">
    <li *ngFor="let shell of shells; trackBy:shellTracker" [ngbNavItem]="shell.token" [destroyOnHide]="false">
      <a ngbNavLink href>
        {{shell.title}}
        <span class="close position-relative ps-2 font-weight-light"
              (click)="closeSession($event, shell.token)">Ã—</span>
      </a>
      <ng-template ngbNavContent [ngSwitch]="shell.hasPty">
        <app-terminal-pty [token]="shell.token" class="terminal-tab" *ngSwitchCase="true"></app-terminal-pty>
        <app-terminal-dumb class="terminal-tab" *ngSwitchDefault></app-terminal-dumb>
      </ng-template>
    </li>
    <li class="nav-item">
      <a class="nav-link" href (click)="newTab(); $event.preventDefault()">+</a>
    </li>
  </ul>

  <div class="overflow-hidden flex-fill position-relative">
    <div class="position-absolute w-100 h-100">
      <app-terminal-pty (termSizeChanged)="termSize = $event"></app-terminal-pty>
    </div>
    <div class="position-absolute w-100 h-100 tabs-container" [ngbNavOutlet]="nav"></div>
  </div>
</div>
